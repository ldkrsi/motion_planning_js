<!DOCTYPE html>
<html>
<head>
	<title>幾何作業</title>
	<meta charset="utf-8">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<style type="text/css">
.panel{
	border: 1px solid #f44336;
	position: relative;
	width: 400px;
	height: 400px;
}
.panel canvas{
	position: absolute;
	left: 0;
	top: 0;
	width: 400px;
	width: 400px;
}
.controls{
	width: 200px;
}
.panel-wrapper{
	width: 7500px;
}
.panel-wrapper > div{
	float: left;
	margin: 15px;
}
.panel-wrapper:after, .input-fields:after{
	content: '';
	display: block;
	clear: both;
}
.input-fields{
	width: 600px;
}
.input-fields > div{
	width: 50%;
	box-sizing: border-box;
	float: left;
}
</style>
</head>
<body>
<h1>JS Motion Planning</h1>
<h2>操作流程</h2>
<p>
	輸入Robots檔案 -&gt;
	輸入Obstacles檔案 -&gt;
	開始計算路徑和走到終點
</p>
<p>在每個步驟之間都拉動元件來修改每個元件的位置和角度還有觀看Potential Fields</p>
<p>目前僅在chrome瀏覽器55.0上完整測試過，理論上有支持HTML5的瀏覽器都能正常執行。</p>
<div class="panel-wrapper">
	<div class="panel">
		<canvas id="potential" style="z-index: 0;"></canvas>
		<canvas id="obstacles" style="z-index: 1;"></canvas>
		<canvas id="goals" style="z-index: 2;"></canvas>
		<canvas id="robots" style="z-index: 3;"></canvas>
		<canvas id="touch-layer" style="z-index: 4;"></canvas>
	</div>
	<div class="controls">
		<h4>旋轉控制</h4>
		<input type="checkbox" id="rotate"><label for="rotate">旋轉</label><br>
		<hr>
		<h4>Potential Fields</h4>
		<div class="potential-fields"></div>
		<hr>
		<h4>開始鈕</h4>
		<button class="run">run</button>
		<hr>
		<div id="result"></div>
	</div>
</div>
<p>綠色為起點，藍色為終點，紅色是障礙物</p>
<hr>
<h2>簡略說明</h2>
<p>探索單位為x：1單位，y：1單位，&theta;：2度。</p>
<p>採用depth first search遞迴方式搜尋。</p>
<hr>
<h2>issue</h2>
<p>因採用遞迴的方式，在一些複雜的圖記憶體使用會超出瀏覽器規定的上限，所以顯示failure。</p>
<hr>
<h2>原始碼</h2>
<ul>
	<li>外觀：檢視本頁原始碼</li>
	<li><a href="config.js">全局設定</a></li>
	<li><a href="function.js">自製函式庫</a></li>
	<li><a href="objects.js">物件</a></li>
	<li><a href="main.js">Events Handler、Main區域</a></li>
</ul>
<hr>
<h2>沒完成的部份</h2>
<ul>
	<li>路徑平滑化</li>
</ul>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="function.js"></script>
<script type="text/javascript" src="objects.js"></script>
<script type="text/javascript" src="main.js"></script>
</body>
</html>